language: objective-c

before_install:
    - gem install slather -N
    - brew update
    - brew unlink xctool
    - brew install xctool
    - brew install uncrustify

script:
    - xctool -workspace objcTox.xcworkspace -scheme objcToxDemo -sdk iphonesimulator build
    - xctool -workspace objcTox.xcworkspace -scheme objcToxDemo -sdk iphonesimulator GCC_INSTRUMENT_PROGRAM_FLOW_ARCS=YES GCC_GENERATE_TEST_COVERAGE_FILES=YES clean test
    - uncrustify -c uncrustify.cfg --check -l OC $(find {Classes,objcToxTests,objcToxDemo} -name "*.h" -or -name "*.m")
#   - pod lib lint --quick
#
after_success:
    - slather

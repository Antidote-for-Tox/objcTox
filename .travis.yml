language: objective-c

before_install:
    - gem install slather -N
    - brew update
    - brew unlink xctool
    - brew install xctool
    - brew install uncrustify

script:
    - pod install
    - xctool -workspace objcTox.xcworkspace -scheme objcToxDemo -sdk iphonesimulator build
    - xctool -workspace objcTox.xcworkspace -scheme objcToxDemo -destination 'platform=iOS Simulator,name=iPhone 6' -sdk iphonesimulator GCC_INSTRUMENT_PROGRAM_FLOW_ARCS=YES GCC_GENERATE_TEST_COVERAGE_FILES=YES clean test
    - ./run-uncrustify.sh --check
#   - pod lib lint --quick
#
after_success:
    - slather
